(this["webpackJsonpmutual-aid-networks"]=this["webpackJsonpmutual-aid-networks"]||[]).push([[0],{218:function(e,t,a){e.exports=a(395)},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},309:function(e,t,a){},329:function(e,t,a){},362:function(e,t,a){},385:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"requestNetworks",(function(){return N}));var s={};a.r(s),a.d(s,"getSelectedCategories",(function(){return G})),a.d(s,"getSearchLocation",(function(){return B})),a.d(s,"getViewState",(function(){return L}));var o={};a.r(o),a.d(o,"getAllNetworks",(function(){return j})),a.d(o,"getFilteredNetworks",(function(){return F})),a.d(o,"getVisibleCards",(function(){return H}));var r={};a.r(r),a.d(r,"setCategoryFilters",(function(){return V})),a.d(r,"setLatLng",(function(){return z}));var i=a(19),c=a(25),l=a(33),_=a(30),E=a(34),u=a(0),A=a.n(u),p=a(128),T=a(9),m=a.n(T);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=a(162),S=a(78),P=a(405),h=a(201),R=a.n(h),g=a(46),C=function(e,t){return"".concat(e,"-").concat(t)},b=C("EVENTS","REQUEST_NETWORKS"),O=C("EVENTS","SET_NETWORKS"),f=C("EVENTS","REQUEST_FAILED"),I={allNetworks:[]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case O:return Object(g.a)({},e,{allNetworks:n,error:null});case f:return console.log("REQUEST_FAILED: ".concat(n)),Object(g.a)({},e,{error:n});default:return e}},N=function(){return{type:b}},v=a(99),w=a(100),y=a(160),k=a(406),G=function(e){return e.selections.categories},B=function(e){return e.selections.searchLocation},L=Object(v.a)([B],(function(e){return e.lat?"list":"default"})),j=function(e){return e.networks.allNetworks},F=Object(v.a)([j,G],(function(e,t){return t.length?Object(w.filter)(e,(function(e){return t.includes(e.category)})):[]})),H=Object(v.a)([F,B],(function(e,t){if(!t.lat)return[];var a=new y.b(Number(t.lat),Number(t.lng));return e.filter((function(e){return Object(k.a)(a,new y.b(Number(e.lat),Number(e.lng)))<80467})).sort((function(e,t){return Object(k.a)(a,new y.b(Number(e.lat),Number(e.lng)))-Object(k.a)(a,new y.b(Number(t.lat),Number(t.lng)))}))})),U=a(404),x={actions:n,logics:[Object(U.a)({type:b,processOptions:{successType:O,failType:f},process:function(e){return e.firestore.collection("mutual_aid_networks").get().then((function(e){return e.docs.map((function(e){return Object(g.a)({},e.data(),{category:e.data().category||"General"})}))}))}})],reducers:D,selectors:o},K=C("SELECTIONS","FILTER_BY_CATEGORY"),M=C("SELECTIONS","SET_LAT_LNG"),J=["General","Support Request","Support Offer","Information"],W={view:"default",categories:J,language:"",community:"",searchLocation:{}},V=function(e){return{type:K,payload:e}},z=function(e){return{type:M,payload:e}},q={actions:r,logics:[],reducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(g.a)({},e,{categories:t.payload});case M:return Object(g.a)({},e,{searchLocation:t.payload});default:return e}},selectors:s},Y=a(103),Z=a.n(Y),Q="REACT_APP_PROD";console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TESTING_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_TESTING_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_TESTING_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_TESTING_PROJECT_ID:"townhalltestingsms",REACT_APP_TESTING_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_TESTING_MESSAGING_SENDER_ID:"86976100332",REACT_APP_PROD_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_PROD_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_PROD_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_PROD_PROJECT_ID:"townhalltestingsms",REACT_APP_PROD_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_PROD_MESSAGING_SENDER_ID:"86976100332",REACT_APP_SMS_API:"https://localhost:8080"})["".concat(Q,"_PROJECT_ID")]);var X={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TESTING_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_TESTING_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_TESTING_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_TESTING_PROJECT_ID:"townhalltestingsms",REACT_APP_TESTING_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_TESTING_MESSAGING_SENDER_ID:"86976100332",REACT_APP_PROD_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_PROD_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_PROD_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_PROD_PROJECT_ID:"townhalltestingsms",REACT_APP_PROD_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_PROD_MESSAGING_SENDER_ID:"86976100332",REACT_APP_SMS_API:"https://localhost:8080"})["".concat(Q,"_FIREBASE_API_KEY")],authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TESTING_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_TESTING_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_TESTING_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_TESTING_PROJECT_ID:"townhalltestingsms",REACT_APP_TESTING_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_TESTING_MESSAGING_SENDER_ID:"86976100332",REACT_APP_PROD_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_PROD_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_PROD_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_PROD_PROJECT_ID:"townhalltestingsms",REACT_APP_PROD_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_PROD_MESSAGING_SENDER_ID:"86976100332",REACT_APP_SMS_API:"https://localhost:8080"})["".concat(Q,"_FIREBASE_AUTH_DOMAIN")],databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TESTING_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_TESTING_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_TESTING_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_TESTING_PROJECT_ID:"townhalltestingsms",REACT_APP_TESTING_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_TESTING_MESSAGING_SENDER_ID:"86976100332",REACT_APP_PROD_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_PROD_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_PROD_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_PROD_PROJECT_ID:"townhalltestingsms",REACT_APP_PROD_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_PROD_MESSAGING_SENDER_ID:"86976100332",REACT_APP_SMS_API:"https://localhost:8080"})["".concat(Q,"_DATABASE_URL")],storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TESTING_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_TESTING_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_TESTING_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_TESTING_PROJECT_ID:"townhalltestingsms",REACT_APP_TESTING_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_TESTING_MESSAGING_SENDER_ID:"86976100332",REACT_APP_PROD_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_PROD_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_PROD_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_PROD_PROJECT_ID:"townhalltestingsms",REACT_APP_PROD_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_PROD_MESSAGING_SENDER_ID:"86976100332",REACT_APP_SMS_API:"https://localhost:8080"})["".concat(Q,"_STORAGE_BUCKET")],messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TESTING_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_TESTING_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_TESTING_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_TESTING_PROJECT_ID:"townhalltestingsms",REACT_APP_TESTING_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_TESTING_MESSAGING_SENDER_ID:"86976100332",REACT_APP_PROD_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_PROD_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_PROD_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_PROD_PROJECT_ID:"townhalltestingsms",REACT_APP_PROD_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_PROD_MESSAGING_SENDER_ID:"86976100332",REACT_APP_SMS_API:"https://localhost:8080"})["".concat(Q,"_MESSAGING_SENDER_ID")],projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TESTING_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_TESTING_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_TESTING_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_TESTING_PROJECT_ID:"townhalltestingsms",REACT_APP_TESTING_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_TESTING_MESSAGING_SENDER_ID:"86976100332",REACT_APP_PROD_FIREBASE_API_KEY:"AIzaSyCJncx2G6bUnecl4H2VHSBTDfRRxg7H5Fs",REACT_APP_PROD_FIREBASE_AUTH_DOMAIN:"townhalltestingsms.firebaseapp.com",REACT_APP_PROD_DATABASE_URL:"https://townhalltestingsms.firebaseio.com",REACT_APP_PROD_PROJECT_ID:"townhalltestingsms",REACT_APP_PROD_STORAGE_BUCKET:"townhalltestingsms.appspot.com",REACT_APP_PROD_MESSAGING_SENDER_ID:"86976100332",REACT_APP_SMS_API:"https://localhost:8080"})["".concat(Q,"_PROJECT_ID")]};Z.a.initializeApp(X);var $=Z.a.database(),ee=Z.a.firestore(),te=(Z.a,{networks:x.reducers,selections:q.reducers}),ae=[].concat(Object(d.a)(x.logics),Object(d.a)(q.logics)),ne={firebaseUrl:"https://townhalltestingsms.firebaseio.com",firebasedb:$,firestore:ee,httpClient:R.a},se=Object(P.a)(ae,ne),oe=Object(S.a)(se);a(397);var re=a(161),ie=(a(272),a(104)),ce=a(17),le=a(202),_e=a.n(le),Ee=function e(t){Object(i.a)(this,e),this.type="Feature",this.geometry={coordinates:[Number(t.lng),Number(t.lat)],type:"Point"};var a=t.bbox[3]-t.bbox[1];this.properties={region:t.region,contact:t.contact||null,socials:t.social||null,state:t.state,title:t.title,form:t.form,category:t.category||"General",bbox:t.bbox,lat:t.lat,lng:t.lng,scale:10*a}},ue=a(3),Ae=a.n(ue),pe="networks-dots",Te="pk.eyJ1IjoidG93bmhhbGxwcm9qZWN0IiwiYSI6ImNqMnRwOG4wOTAwMnMycG1yMGZudHFxbWsifQ.FXyPo3-AD46IuWjjsGPJ3Q",me=window.mapboxgl,de=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).addClickListener=a.addClickListener.bind(Object(ce.a)(a)),a.addLayer=a.addLayer.bind(Object(ce.a)(a)),a.createFeatures=a.createFeatures.bind(Object(ce.a)(a)),a.updateData=a.updateData.bind(Object(ce.a)(a)),a}return Object(E.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.networks,t=this.createFeatures(e);this.initializeMap(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.networks;t.length!==this.props.networks.length&&this.updateData(t)}},{key:"updateData",value:function(e){var t=this.createFeatures(e);this.map.getSource("".concat(pe,"-").concat(this.props.stateName))&&this.map.getSource("".concat(pe,"-").concat(this.props.stateName)).setData(t)}},{key:"createFeatures",value:function(e){var t={features:[],type:"FeatureCollection"};return t.features=e.map((function(e){return new Ee(e)})),t}},{key:"addClickListener",value:function(){var e=this.props,t=e.bounds,a=e.setBounds;this.map.on("click",(function(){a(t)}))}},{key:"addLayer",value:function(e){this.map.addLayer({id:"".concat(pe,"-").concat(this.props.stateName),paint:{"circle-opacity":.5,"circle-radius":7,"circle-stroke-color":"#fff","circle-stroke-width":1,"circle-color":["match",["get","category"],"Support Request","#ef4822","Support Offer","#6ac1e5","General","#8048f3","#057A8F"]},source:{data:e,type:"geojson"},type:"circle"},"district_interactive")}},{key:"initializeMap",value:function(e){var t=this,a=this.props,n=a.bounds,s=a.mapId;me.accessToken=Te;this.map=new me.Map({container:s,doubleClickZoom:!1,dragPan:!1,scrollZoom:!1,style:"mapbox://styles/townhallproject/cjgr7qoqr00012ro4hnwlvsyp"}),this.map.fitBounds(n,{easeTo:{duration:0},linear:!0}),this.map.on("load",(function(){t.addClickListener(),t.addLayer(e)}))}},{key:"render",value:function(){var e=this.props,t=e.viewState,a=e.mapId,n=Ae()({hidden:"list"===t,inset:!0});return A.a.createElement(A.a.Fragment,null,A.a.createElement("div",{id:a,className:n,"data-bounds":this.props.bounds}))}}]),t}(A.a.Component);de.defaultProps={selectedState:""};var Se=de,Pe=(a(303),a(304),a(305),a(306),window.mapboxgl),he=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).filterDistrict=["any"],a.includedStates=["in","NAME"],a.addPopups=a.addPopups.bind(Object(ce.a)(a)),a.addClickListener=a.addClickListener.bind(Object(ce.a)(a)),a.addLayer=a.addLayer.bind(Object(ce.a)(a)),a.createFeatures=a.createFeatures.bind(Object(ce.a)(a)),a.updateData=a.updateData.bind(Object(ce.a)(a)),a.handleReset=a.handleReset.bind(Object(ce.a)(a)),a.insetOnClickEvent=a.insetOnClickEvent.bind(Object(ce.a)(a)),a.handleClickOnInset=a.handleClickOnInset.bind(Object(ce.a)(a)),a.initializeMap=a.initializeMap.bind(Object(ce.a)(a)),a.state={popoverColor:"popover-general-icon",bbox:null},a}return Object(E.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.networks,t=this.createFeatures(e);this.initializeMap(t)}},{key:"componentDidUpdate",value:function(e){var t=e.networks;this.map.resize(),t.length!==this.props.networks.length&&this.updateData(this.props.networks),e.viewState!==this.props.viewState&&(this.hoveredPopup.remove(),"default"===this.props.viewState&&this.setInitialState()),this.state.bbox&&"list"===this.props.viewState&&(this.map.fitBounds(this.state.bbox),this.setState({bbox:null}))}},{key:"insetOnClickEvent",value:function(e){this.setState({inset:!1});var t=e.target.parentNode.parentNode.getAttribute("data-bounds").split(","),a=[Number(t[0]),Number(t[1])],n=[Number(t[2]),Number(t[3])],s=a.concat(n);this.map.fitBounds(s)}},{key:"updateData",value:function(e){var t=this.createFeatures(e);this.map.fitBounds([[-128.8,23.6],[-65.4,50.2]]),this.map.getSource(pe)&&this.map.getSource(pe).setData(t)}},{key:"createFeatures",value:function(e){var t={features:[],type:"FeatureCollection"};return t.features=e.map((function(e){return new Ee(e)})),t}},{key:"addPopups",value:function(e){var t=this,a=this.map;this.hoveredPopup=new Pe.Popup({closeButton:!0,closeOnClick:!0}),a.on("mousemove",(function(n){var s=a.queryRenderedFeatures(n.point,{layers:[e]});if(a.getCanvas().style.cursor=s.length?"pointer":"",s.length){var o=s[0],r=o.properties,i="popover-".concat(o.properties.category.split(" ").join("-").toLowerCase());t.setState({popoverColor:i});var c=r.form?"<a href=".concat(r.form,">Link to form</a>"):"<a href=".concat(r.socials,">Link to group</a>");return t.hoveredPopup.setLngLat(o.geometry.coordinates).setHTML("\n            <h4>".concat(r.title,"</h4>\n            <div>").concat(c,"</div>")).addTo(a)}}))}},{key:"addClickListener",value:function(){var e=this,t=this.map,a=this.props.setLatLng;t.on("click",(function(n){var s=t.queryRenderedFeatures(n.point,{layers:[pe]});if(s.length>0){var o=JSON.parse(s[0].properties.bbox);a({lat:s[0].properties.lat,lng:s[0].properties.lng}),e.setState({bbox:o})}}))}},{key:"addLayer",value:function(e){this.map.addLayer({id:pe,paint:{"circle-opacity":.5,"circle-radius":8,"circle-stroke-color":"#fff","circle-stroke-width":1,"circle-color":["match",["get","category"],"Support Request","#ef4822","Support Offer","#6ac1e5","General","#8048f3","#057A8F"]},source:{data:e,type:"geojson"},type:"circle"},"district_interactive")}},{key:"handleReset",value:function(){(0,this.props.setLatLng)({})}},{key:"setInitialState",value:function(){this.map.fitBounds([[-128.8,23.6],[-65.4,50.2]]),document.getElementsByClassName("mapboxgl-ctrl-geocoder--input"),Array.from(document.getElementsByClassName("mapboxgl-ctrl-geocoder--input")).forEach((function(e){e.value=""})),this.map.resize()}},{key:"handleClickOnInset",value:function(e){this.setState({bbox:e});var t=new Pe.LngLatBounds(e).getCenter();this.props.setLatLng(t)}},{key:"makeZoomToNationalButton",value:function(){document.querySelector(".mapboxgl-ctrl-compass").remove(),document.querySelector(".mapboxgl-ctrl-usa")&&document.querySelector(".mapboxgl-ctrl-usa").remove();var e=document.createElement("button");e.className="mapboxgl-ctrl-icon mapboxgl-ctrl-usa",e.innerHTML='<span class="usa-icon"></span>',e.addEventListener("click",this.handleReset),document.querySelector(".mapboxgl-ctrl-group").appendChild(e)}},{key:"initializeMap",value:function(e){var t=this,a=this.props.setLatLng;Pe.accessToken=Te;this.map=new Pe.Map({container:"map",style:"mapbox://styles/townhallproject/cjgr7qoqr00012ro4hnwlvsyp"}),this.map.addControl(new Pe.NavigationControl),this.map.scrollZoom.disable(),this.map.dragRotate.disable(),this.map.touchZoomRotate.disableRotation(),this.makeZoomToNationalButton();var n=this.map,s=this;this.map.addControl(new _e.a({accessToken:Pe.accessToken,mapboxgl:Pe,countries:"us",marker:!1,zoom:12,flyTo:!1}).on("clear",(function(e){a({})})).on("result",(function(e){n.resize(),a({lat:e.result.center[1],lng:e.result.center[0]}),s.setState({bbox:e.result.bbox})})),"top-left"),this.map.on("load",(function(){t.map.fitBounds([[-128.8,23.6],[-65.4,50.2]]),t.addClickListener(),t.addLayer(e),t.addPopups(pe)}))}},{key:"render",value:function(){var e=this.props,t=e.center,a=e.resetSelections,n=e.setLatLng,s=e.viewState,o=e.networks;return A.a.createElement(A.a.Fragment,null,A.a.createElement("div",{id:"map",className:this.state.popoverColor},A.a.createElement("div",{className:"map-overlay",id:"legend"},A.a.createElement(Se,{networks:Object(w.filter)(o,{state:"AK"}),center:t,stateName:"AK",viewState:s,resetSelections:a,setLatLng:n,setBounds:this.handleClickOnInset,mapId:"map-overlay-alaska",bounds:[[-170.15625,51.72702815704774],[-127.61718749999999,71.85622888185527]]}),A.a.createElement(Se,{networks:Object(w.filter)(o,{state:"HI"}),stateName:"HI",center:t,viewState:s,resetSelections:a,setLatLng:n,setBounds:this.handleClickOnInset,mapId:"map-overlay-hawaii",bounds:[[-161.03759765625,18.542116654448996],[-154.22607421875,22.573438264572406]]}))))}}]),t}(A.a.Component);he.defaultProps={};var Re=he,ge=(a(307),a(215)),Ce=(a(309),function(){return A.a.createElement("div",{className:"start-network-container"},A.a.createElement(ge.a,{id:"start-network-button",target:"_blank",href:"https://docs.google.com/forms/d/1Orat2boOrd7dqmWD4LS1yJd5QwK_kSn05OS9BghJKTk/edit?usp=sharing"},"Submit a Mutual Aid Network"))}),be=(a(327),a(132)),Oe=(a(329),be.a.Group),fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(s)))).state={indeterminate:!1,checkAll:!0},a.onChange=function(e){a.props.setFilters(e),a.setState({indeterminate:!!e.length&&e.length<J.length,checkAll:e.length===J.length})},a.onCheckAllChange=function(e){var t=e.target.checked?J:[];a.setState({indeterminate:!1,checkAll:e.target.checked}),a.props.setFilters(t)},a}return Object(E.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return A.a.createElement("div",{className:"filter-container"},A.a.createElement("div",{className:"site-checkbox-all-wrapper"},A.a.createElement(be.a,{indeterminate:this.state.indeterminate,onChange:this.onCheckAllChange,checked:this.state.checkAll},"Select all")),A.a.createElement("br",null),A.a.createElement(Oe,{value:this.props.selectedCategories,onChange:this.onChange},J.map((function(e){return A.a.createElement(be.a,{key:e.replace(" ","-").toLowerCase(),className:e.replace(" ","-").toLowerCase(),value:e},e)}))))}}]),t}(A.a.Component),Ie=(a(396),a(214)),De=(a(193),a(49)),Ne=(a(362),function(e){return A.a.createElement(A.a.Fragment,null,e.networks.map((function(e){var t=e.address,a=e.title,n=e.neighborhood,s=e.form,o=e.social,r=e.category,i=e.community,c=e.language;return A.a.createElement(Ie.a,{className:"network-card",title:a,key:a,extra:A.a.createElement("ul",{className:"list-inline"},r&&A.a.createElement("li",null,r),i&&A.a.createElement("li",null,i))},A.a.createElement("ul",{className:"list-inline"},n&&A.a.createElement("li",null,n),t&&A.a.createElement("li",null,t),c&&A.a.createElement("li",null,c)),A.a.createElement(De.a,{justify:"space-between"},s&&A.a.createElement("a",{href:s,target:"_blank",className:"button"},"Participate in this community"),o&&A.a.createElement("a",{href:o,target:"_blank",className:"button"},"Join social media")))})))}),ve=function(e){var t=e.visibleCards;return A.a.createElement("div",{className:"list-container"},t.length?A.a.createElement(Ne,{networks:t}):"There are no support requests or networks nearby.")},we=(a(385),ie.a.Header),ye=ie.a.Content,ke=ie.a.Footer,Ge=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.requestNetworks)()}},{key:"render",value:function(){var e=this.props,t=e.setFilters,a=e.selectedCategories,n=e.filteredNetworks,s=e.viewState,o=e.setLatLng,r=e.visibleCards;return e.allNetworks.length?A.a.createElement(ie.a,{className:"layout"},A.a.createElement(we,null,A.a.createElement("div",{className:"logo"},"Mutual Aid Hub"),A.a.createElement(re.a,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px"}},A.a.createElement(re.a.Item,{key:"1"},"Guides and other resources"))),A.a.createElement(ye,{style:{padding:"0 50px"}},A.a.createElement("div",{className:"main-container"},A.a.createElement(fe,{setFilters:t,selectedCategories:a}),A.a.createElement("div",{className:"interactive-content-".concat(s)},A.a.createElement(Re,{networks:n,viewState:s,setLatLng:o}),A.a.createElement(ve,{visibleCards:r})),A.a.createElement("div",{className:"tagline"},"Find Mutual Aid Networks and other community self-support projects near you. Join these important efforts, offer resources, or submit needs requests."),A.a.createElement(Ce,null))),A.a.createElement(ke,{style:{textAlign:"center"}},A.a.createElement("div",{className:"footer-text"},"We list these networks as a public resource. We cannot verify or vouch for any network or individual offerings. Please exercise all necessary judgement when interacting with community members not previously known to you."))):null}}]),t}(A.a.Component),Be=Object(p.b)((function(e){return{filteredNetworks:x.selectors.getFilteredNetworks(e),selectedCategories:q.selectors.getSelectedCategories(e),viewState:q.selectors.getViewState(e),searchLocation:q.selectors.getSearchLocation(e),visibleCards:x.selectors.getVisibleCards(e),allNetworks:x.selectors.getAllNetworks(e)}}),(function(e){return{requestNetworks:function(){return e(x.actions.requestNetworks())},setFilters:function(t){return e(q.actions.setCategoryFilters(t))},setLatLng:function(t){return e(q.actions.setLatLng(t))}}}))(Ge),Le=(a(394),Object(S.d)(Object(S.c)(te),oe)),je=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return A.a.createElement(p.a,{store:Le},A.a.createElement(Be,null))}}]),t}(u.Component);m.a.render(A.a.createElement(je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[218,1,2]]]);
//# sourceMappingURL=main.8e508051.chunk.js.map